<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr">
  <head>
    <title></title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="content-style-type" content="text/css" />
    <meta http-equiv="content-script-type" content="text/javascript" />
    <link href="/ahpu/static/images/ahpu.ico" type="image/x-icon" rel="shortcut icon" />
    <script type="text/javascript">
      window.$BG_LANG = 'zh'
    </script>
    <script type="text/javascript" src="/ahpu/static/scripts/jquery/jquery,jquery.ui.core.js?bg=3.4.3"></script>
    <script
      type="text/javascript"
      src="/ahpu/static/scripts/plugins/jquery-form,jquery-history,jquery-colorbox,jquery-chosen.js?bg=3.4.3"
    ></script>
    <script
      type="text/javascript"
      src="/ahpu/static/js/plugins/jquery.subscribe,/js/struts2/jquery.struts2,jquery.ui.struts2.js?bg=3.4.3"
    ></script>
    <script type="text/javascript" src="/ahpu/static/scripts/beangle/beangle,beangle-ui.js?bg=3.4.3"></script>
    <script type="text/javascript">
      var App = { contextPath: '/ahpu' }
      var funcInit = function () {
        jQuery.struts2_jquery.version = '3.6.1'
        beangle.contextPath = App.contextPath
        jQuery.scriptPath = App.contextPath + '/static/'
        jQuery.struts2_jquerySuffix = ''
        jQuery.ajaxSettings.traditional = true
        jQuery.ajaxSetup({ cache: false })
      }
    </script>
    <script type="text/javascript" src="/ahpu/static/scripts/my97/WdatePicker-4.72.js?compress=no"></script>
    <link
      id="jquery_theme_link"
      rel="stylesheet"
      href="/ahpu/static/themes/smoothness/jquery-ui.css?s2j=3.6.1"
      type="text/css"
    />
    <link
      id="beangle_theme_link"
      href="/ahpu/static/themes/default/beangle-ui,colorbox,chosen.css"
      rel="stylesheet"
      type="text/css"
    />
    <link rel="stylesheet" href="/ahpu/static/css/foundation.css" type="text/css" />
    <script type="text/javascript" src="/ahpu/static/scripts/highcharts.js"></script>

    <script src="/ahpu/static/scripts/require.config.js?v=3"></script>
    <script>
      require.baseUrl = '/ahpu/static/scripts'
    </script>
    <script src="/ahpu/static/scripts/require.js"></script>
    <script type="text/javascript" src="/ahpu/static/scripts/require.js"></script>

    <!-- backbone & underscore -- fontend MVC framework -->
    <script type="text/javascript" src="/ahpu/static/scripts/underscore.min.js"></script>
    <script type="text/javascript" src="/ahpu/static/scripts/backbone.min.js"></script>
    <script type="text/javascript" src="/ahpu/static/scripts/underscore.string.min.js"></script>
    <script>
      require(['underscore.string'], function (_s) {
        _.str = _s
        _.mixin(_.str.exports())
      })
      funcInit()
      //beangle.ajaxhistory = false;
    </script>

    <style>
      body {
        overflow-x: auto; /*水平滚动条*/
        overflow-y: scroll;
      }
    </style>
  </head>
  <body>
    <div id="toolbar6036569071"></div>
    <script type="text/javascript">
      bar = bg.ui.toolbar('toolbar6036569071', '我的课表')

      bar.addHr()
    </script>
    <div
      style="
        background: url('/ahpu/static/images/semesterBarBg.png') repeat-x scroll 50% 50% #deedf7;
        border: 1px solid #aed0ea;
        color: #222222;
        font-weight: bold;
        height: 28px;
      "
    >
      <form id="courseTableForm" name="courseTableForm" action="/ahpu/courseTableForStd.action" method="post" target="">
        <div style="margin-left: 4px; margin-top: 2px; float: left; line-height: 22px; height: 22px">
          <input type="hidden" name="ignoreHead" value="1" />
          <label for="courseTableType" class="title">课表类型:</label>
          <select id="courseTableType" name="setting.kind" onChange="searchTable()" style="width: 120px">
            <option value="std">学生课表</option>
            <option value="class">班级课表</option>
          </select>
          |
          <label for="startWeek" class="title">选择教学周:</label>
          <select id="startWeek" name="startWeek" onchange="searchTable()">
            <option value="">全部</option>
            <option value="1">第1周</option>
            <option value="2">第2周</option>
            <option value="3">第3周</option>
            <option value="4">第4周</option>
            <option value="5">第5周</option>
            <option value="6">第6周</option>
            <option value="7">第7周</option>
            <option value="8">第8周</option>
            <option value="9">第9周</option>
            <option value="10">第10周</option>
            <option value="11">第11周</option>
            <option value="12">第12周</option>
            <option value="13">第13周</option>
            <option value="14">第14周</option>
            <option value="15">第15周</option>
            <option value="16">第16周</option>
            <option value="17">第17周</option>
            <option value="18">第18周</option>
            <option value="19">第19周</option>
          </select>
          |
        </div>
        <div style="margin-left: 10px; margin-top: 2px; float: left; line-height: 18px; height: 22px">
          <label for="semesterBar6036569071">项目:</label>
          <select id="semesterBar6036569071" name="project.id"></select>
          <label for="semesterBar6036569071Semester" class="title">学年学期:</label>
          <input
            id="semesterBar6036569071Semester"
            class="calendar-text calendar-text-state-default"
            title="学年学期"
            type="text"
            value=""
            readonly="true"
          />
          <div class="calendar-bar" tabindex="-1">
            <input id="semesterCalendar_target" type="hidden" name="semester.id" value="" />
            <a name="prev" href="javascript:void(0)" style="display: none">
              <img src="/ahpu/static/themes/default/images/semesterCalendar_prev.gif" />
            </a>
            <input
              id="semesterCalendar_year"
              class="calendar-bar-input"
              type="text"
              index="0"
              value=""
              maxlength="4"
              size="4"
              readonly="true"
              style="display: none"
            />
            <span style="display: none">学年</span>
            <a name="next" href="javascript:void(0)" style="display: none">
              <img src="/ahpu/static/themes/default/images/semesterCalendar_next.gif" />
            </a>

            <a name="prev" href="javascript:void(0)" style="display: none">
              <img src="/ahpu/static/themes/default/images/semesterCalendar_prev.gif" />
            </a>
            <input
              id="semesterCalendar_term"
              class="calendar-bar-input"
              type="text"
              index="0"
              value=""
              size="4"
              readonly="true"
              style="display: none"
            />
            <span style="display: none">学期</span>
            <a name="next" href="javascript:void(0)" style="display: none">
              <img src="/ahpu/static/themes/default/images/semesterCalendar_next.gif" />
            </a>
            <a href="javascript:void(0)" id="allSemester" style="display: none"></a>

            <table id="semesterCalendar_yearTb" class="semesterCalendar_yearTb">
              <tbody></tbody>
            </table>
            <!-- 两个table之间的空div用来解决IE6 下莫名其妙重复渲染最后一个学年td中的文字的bug-->
            <div></div>
            <table id="semesterCalendar_termTb" class="semesterCalendar_termTb">
              <tbody></tbody>
            </table>
          </div>
          <script type="text/javascript" src="/ahpu/static/scripts/semesterCalendar_zh.js"></script>
          <script type="text/javascript">
            if (
              jQuery.struts2_jquery.scriptCache['/scripts/semesterCalendar.js?s2j=' + jQuery.struts2_jquery.version]
            ) {
              jQuery('#semesterBar6036569071Semester').semesterCalendar(
                { empty: 'false', onChange: '', value: '81' },
                'searchTable()'
              )
            } else {
              jQuery.struts2_jquery.require(
                '/scripts/semesterCalendar.js',
                function () {
                  jQuery('#semesterBar6036569071Semester').semesterCalendar(
                    { empty: 'false', onChange: '', value: '81' },
                    'searchTable()'
                  )
                },
                '/ahpu/static'
              )
            }
          </script>
          <script type="text/javascript">
            jQuery('#semesterBar6036569071').val(jQuery.post('/ahpu/dataQuery.action', { dataType: 'projectId' }))
            jQuery('#semesterBar6036569071').hide()
            jQuery('#semesterBar6036569071').prev().hide()
            var semesterBar6036569071res = jQuery.post(
              '/ahpu/dataQuery.action',
              { entityId: '' },
              function () {
                if (semesterBar6036569071res.status == 200) {
                  jQuery('#semesterBar6036569071').empty()
                  if (semesterBar6036569071res.responseText != '') {
                    jQuery('#semesterBar6036569071').append(semesterBar6036569071res.responseText)
                  }
                }
              },
              'text'
            )
            jQuery('#semesterBar6036569071').change(function () {
              jQuery.post(
                '/ahpu/dataQuery!changeProjectId.action',
                { projectId: this.value },
                function () {
                  jQuery('#semesterBar6036569071Semester')[0].getSemesters(
                    jQuery('#semesterBar6036569071Semester'),
                    { empty: 'false', value: '81' },
                    'searchTable()'
                  )
                },
                'text'
              )
            })
          </script>
          <input type="submit" value="切换学期" onclick="searchTable();return false;" />
        </div>
      </form>
    </div>
    <table class="indexpanel">
      <tr>
        <td class="index_content">
          <div id="contentDiv" class="ajax_container"></div>
        </td>
      </tr>
    </table>
    <script language="JavaScript">
      var form = document.courseTableForm
      function searchTable() {
        if (jQuery('#courseTableType').val() == 'std') {
          bg.form.addInput(form, 'ids', '460209')
        } else {
          bg.form.addInput(form, 'ids', '3869')
        }
        bg.form.submit(form, 'courseTableForStd!courseTable.action', 'contentDiv')
      }

      function confirmCourseTable() {
        if (confirm('课表是否确认无误?')) {
          form.target = 'main'
          bg.form.addInput(form, 'courseTableCheckId', '')
          bg.form.submit(form, 'courseTableForStd!confirmCourseTable.action')
          form.target = 'contentDiv'
        }
      }
    </script>

    <script type="text/javascript"></script>
  </body>
</html>
